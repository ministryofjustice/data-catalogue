source:
  type: glue
  config:
    aws_region: "eu-west-1"
    database_pattern:
      allow: ["sop_transformed_v1_ac$"]
    extract_owners: False

transformers:
  - type: "simple_add_dataset_tags"
    config:
      tag_urns:
        - "urn:li:tag:dc_display_in_catalogue"
  - type: "ingestion.transformers.assign_glue_databases.AssignGlueDatabases"
    config:
      data_custodian: "urn:li:corpuser:holly.furniss"
      domain: urn:li:domain:People
      ownership_type: "DATAOWNER"
  - type: "simple_add_dataset_domain"
    config:
      semantics: OVERWRITE
      domains:
        - urn:li:domain:People
#  - type: "pattern_add_dataset_domain"
#    config:
#      is_container: True
#      semantics: OVERWRITE # Based on user
#      domain_pattern:
#        rules:
#          'urn:li:dataset:\(urn:li:dataPlatform:postgres,postgres\.public\.n.*': ["hr"]
#          'urn:li:dataset:\(urn:li:dataPlatform:postgres,postgres\.public\.t.*': ["urn:li:domain:finance"]
  - type: "simple_add_dataset_ownership"
    config:
      semantics: OVERWRITE
      ownership_type: "DATAOWNER"
      owner_urns:
        - "urn:li:corpuser:holly.furniss"
